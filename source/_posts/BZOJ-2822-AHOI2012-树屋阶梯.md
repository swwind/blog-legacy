layout: post
title: 'BZOJ 2822: [AHOI2012]树屋阶梯'
date: 2017-06-05 15:39:53
tags: 卡特兰数
categories: 题解
---
# 题面
暑假期间，小龙报名了一个模拟野外生存作战训练班来锻炼体魄，训练的第一个晚上，教官就给他们出了个难题。由于地上露营湿气重，必须选择在高处的树屋露营。小龙分配的树屋建立在一颗高度为N+1尺（N为正整数）的大树上，正当他发愁怎么爬上去的时候，发现旁边堆满了一些空心四方钢材（如图1.1），经过观察和测量，这些钢材截面的宽和高大小不一，但都是1尺的整数倍，教官命令队员们每人选取N个空心钢材来搭建一个总高度为N尺的阶梯来进入树屋，该阶梯每一步台阶的高度为1尺，宽度也为1尺。如果这些钢材有各种尺寸，且每种尺寸数量充足，那么小龙可以有多少种搭建方法？（注：为了避免夜里踏空，钢材空心的一面绝对不可以向上。）
<img src="http://www.lydsy.com/JudgeOnline/upload/201305/1(6).jpg">
以树屋高度为4尺、阶梯高度N=3尺为例，小龙一共有如图1.2所示的5种
搭建方法：
<img src="http://www.lydsy.com/JudgeOnline/upload/201305/2(1).jpg">


# Input
一个正整数 $N(1≤N≤500)$，表示阶梯的高度

# Output
一个正整数，表示搭建方法的个数。（注：搭建方法个数可能很大。）

# Sample Input
3

# Sample Output
5

# 题解
ans[3]=5。。。是不是想到了什么。。。

给个证明吧。。
首先比如这么一张图
```text
*
+*
++*
#++*
```
我们注意到每个切割出来的矩形都必需包括一块标示为\*的小正方形，那么我们此时枚举每个\*与#标示的两角作为矩形，剩下的两个小阶梯就是我们的两个更小的子问题了，于是我们的注意到这里的式子
$$C_4=C_0\*C_3+C_1\*C_2+C_2\*C_1+C_3\*C_0$$
这就是卡特兰数的递推公式。。。
然后我毫不要脸的用了python。
233333

# 代码
```python
n = int(raw_input())
f = [0 for i in range(n+1)]

def get(x):
	if f[x]:
		return f[x]
	for i in range(x):
		f[x] += get(x-1-i)*get(i)
	return f[x]

f[1] = f[0] = 1
print(get(n))
```